# GestorDeNotas: Plataforma de Gesti√≥n Escolar

**GestorDeNotas** es una soluci√≥n integral para la administraci√≥n escolar, permitiendo gestionar estudiantes, cursos, profesores, calificaciones, asistencia, observaciones y reportes. Incluye frontend minimalista en React + TypeScript y backend robusto en Node.js + Express + Prisma + SQLite.

---

## üìã **Requisitos Previos**

Antes de comenzar, aseg√∫rate de tener instalado:

### **Software Necesario:**
- **Node.js** (versi√≥n 18 o superior) - [Descargar aqu√≠](https://nodejs.org/)
- **npm** (viene con Node.js) o **yarn** (opcional)
- **Git** - [Descargar aqu√≠](https://git-scm.com/)
- **Editor de c√≥digo** (VS Code recomendado) - [Descargar aqu√≠](https://code.visualstudio.com/)

### **Verificar instalaciones:**
```bash
node --version    # Debe ser 18.x o superior
npm --version     # Debe ser 9.x o superior
git --version     # Cualquier versi√≥n reciente
```

---

## üèóÔ∏è **Tecnolog√≠as y Frameworks Utilizados**

### **Frontend:**
- **React 18** - Biblioteca para interfaces de usuario
- **TypeScript 5.x** - Tipado est√°tico para JavaScript
- **Vite** - Bundler y servidor de desarrollo ultrarr√°pido
- **React Router** - Navegaci√≥n SPA
- **jsPDF + jspdf-autotable** - Generaci√≥n de PDFs
- **xlsx** - Exportaci√≥n a Excel
- **Vitest** - Framework de testing

### **Backend:**
- **Node.js** - Runtime de JavaScript
- **Express** - Framework web para APIs
- **TypeScript** - Tipado est√°tico
- **Prisma ORM** - ORM para base de datos
- **SQLite** - Base de datos (desarrollo)
- **CORS** - Middleware para peticiones cross-origin
- **dotenv** - Variables de entorno

### **Base de Datos:**
- **SQLite** - Base de datos ligera (incluida en el proyecto)
- **Prisma Migrations** - Control de versiones de la base de datos

---

## üì¶ Estructura del Proyecto

```
GestorDenotas-master/
‚îú‚îÄ‚îÄ backend/         # API REST, l√≥gica de negocio y base de datos
‚îÇ   ‚îú‚îÄ‚îÄ src/        # C√≥digo fuente (Express, Prisma, controladores, servicios, repositorios)
‚îÇ   ‚îú‚îÄ‚îÄ prisma/     # Esquema, migraciones y seed de la base de datos
‚îÇ   ‚îî‚îÄ‚îÄ ...         # Configuraci√≥n y dependencias
‚îú‚îÄ‚îÄ frontend/        # Cliente web (React + Vite + TypeScript)
‚îÇ   ‚îú‚îÄ‚îÄ src/        # Componentes, p√°ginas, servicios, contextos y tests
‚îÇ   ‚îî‚îÄ‚îÄ ...         # Configuraci√≥n y dependencias
‚îî‚îÄ‚îÄ README.md        # Esta gu√≠a
```

---

## üöÄ **Instalaci√≥n y Ejecuci√≥n Paso a Paso**

### **Paso 1: Clonar el repositorio**
```bash
# Abre una terminal y ejecuta:
git clone https://github.com/Epimete0/GestorDenotas.git
cd GestorDenotas-master
```

### **Paso 2: Configurar el Backend**
```bash
# Navegar al directorio backend
cd backend

# Instalar dependencias
npm install

# Generar el cliente de Prisma
npx prisma generate

# Ejecutar migraciones de la base de datos
npx prisma migrate dev

# Poblar la base de datos con datos de ejemplo
npx prisma db seed

# Iniciar el servidor de desarrollo
npm run dev
```

**‚úÖ El backend estar√° corriendo en:** `http://localhost:4000`

### **Paso 3: Configurar el Frontend**
```bash
# Abrir una nueva terminal y navegar al directorio frontend
cd frontend

# Instalar dependencias
npm install

# Iniciar el servidor de desarrollo
npm run dev
```

**‚úÖ El frontend estar√° corriendo en:** `http://localhost:3000`

### **Paso 4: Acceder a la aplicaci√≥n**
1. Abre tu navegador
2. Ve a `http://localhost:3000`
3. Usa las credenciales demo (ver secci√≥n de credenciales)

---

## üèóÔ∏è Arquitectura y L√≥gica de Roles

- **Frontend:** React (SPA), Vite, TypeScript, React Router, Context API para autenticaci√≥n y roles.
- **Backend:** Node.js, Express, TypeScript, Prisma ORM, SQLite.
- **Roles:**
  - **Administrador:** Acceso total a gesti√≥n de cursos, inscripciones, estudiantes, reportes y usuarios.
  - **Profesor:** Acceso solo a sus cursos, estudiantes, calificaciones, asistencias y observaciones.
- **Autenticaci√≥n:** Basada en tokens simples, gestionada en el backend y almacenada en localStorage en el frontend.
- **Patrones:** Repository, Service, Singleton, Factory, Strategy, Observer.

---

## üöÄ Frameworks y Librer√≠as Usadas

### Frontend
- **React:** Construcci√≥n de interfaces de usuario reactivas y componentes reutilizables.
- **Vite:** Bundler ultrarr√°pido para desarrollo y producci√≥n.
- **TypeScript:** Tipado est√°tico para mayor robustez y mantenibilidad.
- **React Router:** Navegaci√≥n SPA y protecci√≥n de rutas seg√∫n rol.
- **jsPDF, jspdf-autotable:** Exportaci√≥n de reportes y fichas a PDF.
- **xlsx:** Exportaci√≥n de reportes a Excel.
- **Vitest:** Testing unitario y de integraci√≥n.

### Backend
- **Express:** API RESTful, middlewares y control de rutas.
- **Prisma ORM:** Acceso y migraci√≥n de base de datos relacional (SQLite).
- **TypeScript:** Seguridad de tipos y mejor DX.
- **dotenv:** Gesti√≥n de variables de entorno.

---

## üß™ Testing: C√≥mo se hicieron y c√≥mo probar

### Pruebas Autom√°ticas
- **Vitest** en frontend (`src/tests/`):
  - Ejemplo: test unitario de servicios API y test de integraci√≥n de exportaci√≥n de ficha.
  - Ejecuta: `npx vitest run`
  - Resultado esperado: todos los tests pasan.

### Pruebas Manuales
- **Checklist** (ver secci√≥n anterior):
  - Login/logout, rutas protegidas, CRUD, exportaciones, feedback de errores, modo oscuro, etc.
- **C√≥mo se identifican errores:**
  - El frontend muestra mensajes claros y minimalistas ante errores de login, inscripci√≥n, formularios y acciones fallidas.
  - El backend retorna errores HTTP con mensajes descriptivos (ej: campos requeridos, duplicados, no encontrado).
  - Se recomienda revisar la consola del navegador y del backend para detalles t√©cnicos.

---

## üë§ Gu√≠a de Usuario: ¬øC√≥mo usar la app?

1. **Login:**
   - Ingresa con las credenciales demo (ver abajo) o con un usuario real.
   - El sistema detecta tu rol y muestra solo las opciones relevantes.

2. **Navegaci√≥n:**
   - El men√∫ lateral te permite acceder a Dashboard, Estudiantes, Calificaciones, Asistencia, Resumen, Cursos (admin), Inscripci√≥n (admin) y Calendario.
   - El modo oscuro se activa/desactiva desde el men√∫.

3. **Dashboard:**
   - Visualiza un resumen de tus cursos, estudiantes, asistencias y calificaciones.
   - Acceso r√°pido a las principales acciones seg√∫n tu rol.

4. **Estudiantes:**
   - Lista de estudiantes con b√∫squeda y acceso a la ficha completa.
   - Desde la ficha puedes ver calificaciones, asistencias, observaciones y exportar todo a PDF.
   - Los profesores pueden agregar, editar y eliminar observaciones.

5. **Cursos y Asignaturas:**
   - Solo el admin puede gestionar cursos y asignaturas.
   - Visualiza detalles y estudiantes inscritos.

6. **Calificaciones y Asistencia:**
   - Gestiona y visualiza calificaciones y asistencias de tus estudiantes.
   - Exporta reportes a PDF o Excel.

7. **Inscripci√≥n:**
   - Solo el admin puede inscribir estudiantes en cursos.
   - El sistema valida y muestra feedback inmediato.

8. **Resumen Acad√©mico:**
   - Consulta estad√≠sticas globales y top de asignaturas.
   - Exporta el resumen a PDF o Excel.

9. **Errores y Feedback:**
   - Todos los formularios y acciones muestran mensajes claros en caso de error o √©xito.
   - El dise√±o es minimalista y enfocado en la usabilidad.

---

## üë§ Credenciales Demo

- **Administrador**
  - Email: `admin@demo.com`
  - Contrase√±a: `123456`
- **Profesor 1**
  - Email: `profesor1@demo.com`
  - Contrase√±a: `123456`
- **Profesor 2**
  - Email: `profesor2@demo.com`
  - Contrase√±a: `123456`

---

## üõ†Ô∏è Troubleshooting y Buenas Pr√°cticas

### **Errores Comunes y Soluciones:**

#### **Error: "command not found: node"**
- **Soluci√≥n:** Instala Node.js desde [nodejs.org](https://nodejs.org/)

#### **Error: "prisma command not found"**
- **Soluci√≥n:** Ejecuta `npm install` en el directorio backend

#### **Error: "database locked"**
- **Soluci√≥n:** Cierra otros procesos que usen la base de datos o reinicia el servidor

#### **Error: "port already in use"**
- **Soluci√≥n:** Cambia el puerto en el archivo de configuraci√≥n o cierra otros servicios

#### **Error: "module not found"**
- **Soluci√≥n:** Ejecuta `npm install` en el directorio correspondiente

#### **Error de compilaci√≥n TypeScript**
- **Soluci√≥n:** Verifica que tienes TypeScript instalado: `npm install -g typescript`

### **Comandos √ötiles:**
```bash
# Verificar versiones
node --version
npm --version

# Limpiar cache de npm
npm cache clean --force

# Reinstalar dependencias
rm -rf node_modules package-lock.json
npm install

# Regenerar Prisma
npx prisma generate
npx prisma migrate reset

# Ejecutar tests
npx vitest run

# Compilar para producci√≥n
npm run build
```

### **Buenas Pr√°cticas:**
- Siempre ejecuta `npm install` despu√©s de clonar el proyecto
- Mant√©n Node.js actualizado
- Usa un editor con soporte para TypeScript (VS Code recomendado)
- Revisa la consola del navegador y del servidor para errores
- El c√≥digo sigue buenas pr√°cticas de TypeScript, Express y React

---

## üìÑ Documentaci√≥n y Arquitectura
- Consulta `Arquidise√±o.md` para detalles de arquitectura y decisiones de dise√±o.
- El c√≥digo est√° documentado y sigue buenas pr√°cticas de TypeScript y Express.

---

## üë®‚Äçüíº Manual de Usuario para el Administrador

Esta secci√≥n describe las principales funciones y el flujo de trabajo para el usuario con rol **Administrador** en la plataforma GestorDeNotas.

### 1. **Acceso y Navegaci√≥n**
- Ingresa con tu usuario administrador.
- El men√∫ lateral te da acceso a todas las secciones: Dashboard, Cursos, Estudiantes, Profesores, Materias, Calificaciones, Asistencia, Resumen y utilidades como el Calendario.
- Puedes alternar entre modo claro y oscuro desde el bot√≥n en la parte inferior del men√∫.

### 2. **Gesti√≥n de Estudiantes**
- Accede a la secci√≥n **Estudiantes** para ver el listado completo.
- Puedes **agregar**, **editar** o **eliminar** estudiantes usando los botones correspondientes.
- Haz clic en "Ver Ficha" para ver detalles, calificaciones, asistencias y observaciones de cada estudiante.
- Desde la ficha puedes exportar la informaci√≥n a PDF.
- Usa el bot√≥n "Gestionar observaciones" para ver, agregar, editar o eliminar observaciones de cualquier estudiante.

### 3. **Gesti√≥n de Profesores**
- En la secci√≥n **Profesores** puedes ver, agregar, editar y eliminar profesores.
- El admin puede asignar profesores a materias desde la secci√≥n Materias.

### 4. **Gesti√≥n de Materias (Asignaturas)**
- En **Materias** puedes crear, editar y eliminar materias.
- Al crear o editar una materia puedes asignar uno o varios profesores.
- Puedes gestionar los profesores de cada materia desde el bot√≥n de gesti√≥n en la tarjeta de materia.

### 5. **Gesti√≥n de Cursos**
- En **Cursos** puedes crear, editar y eliminar cursos.
- Asigna un jefe de curso (profesor responsable) al crear o editar un curso.
- Haz clic en el bot√≥n de estudiantes (üë•) para ver todos los estudiantes inscritos en ese curso en un modal grande y acceder a su ficha.

### 6. **Calificaciones y Asistencia**
- En **Calificaciones** puedes ver, agregar, editar y eliminar calificaciones de los estudiantes.
- En **Asistencia** puedes gestionar la asistencia diaria de los estudiantes.

### 7. **Resumen Acad√©mico y Reportes**
- En la secci√≥n **Resumen** puedes ver estad√≠sticas globales: total de estudiantes, cursos, promedio general, tasa de asistencia y top de asignaturas.
- Puedes exportar el resumen a PDF o Excel con un clic.

### 8. **Utilidades y Modo Oscuro**
- Accede al **Calendario** para ver eventos escolares.
- Cambia entre modo claro y oscuro desde el bot√≥n en la parte inferior izquierda.

### 9. **Tips de Uso y Accesibilidad**
- El men√∫ lateral es completamente navegable con teclado y accesible.
- Todos los formularios validan los campos antes de enviar.
- Los modales pueden cerrarse con ESC o clic fuera.
- El bot√≥n de cerrar sesi√≥n est√° siempre visible al fondo del men√∫.

### 10. **Seguridad y Roles**
- Solo el administrador puede acceder a la gesti√≥n completa de cursos, materias y usuarios.
- Los profesores solo ven y gestionan sus propios cursos y estudiantes.

---

> Proyecto desarrollado por Epimete0 y colaboradores.
